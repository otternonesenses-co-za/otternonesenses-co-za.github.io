import{S as T,M as G,N as V,O as o,P as z,Q as y,U as c,R as L,o as P,T as C,V as H,F as J,W as Q,J as W,I as X,k as x,X as k,n as F,K as p,Y as j,Z as ee,_ as re,$ as ne,a0 as te,a1 as ie,a2 as ae,a3 as Y,a4 as fe,a5 as se,a6 as ue,a7 as le,a8 as ve,t as m,a9 as de,aa as _e}from"./9kG4W4Rk.js";function S(e,n=null,v){if(typeof e!="object"||e===null||T in e)return e;const u=J(e);if(u!==G&&u!==V)return e;var a=new Map,l=Q(e),w=o(0);l&&a.set("length",o(e.length));var I;return new Proxy(e,{defineProperty(s,r,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&z();var f=a.get(r);return f===void 0?(f=o(t.value),a.set(r,f)):y(f,S(t.value,I)),!0},deleteProperty(s,r){var t=a.get(r);if(t===void 0)r in s&&a.set(r,o(c));else{if(l&&typeof r=="string"){var f=a.get("length"),i=Number(r);Number.isInteger(i)&&i<f.v&&y(f,i)}y(t,c),K(w)}return!0},get(s,r,t){var b;if(r===T)return e;var f=a.get(r),i=r in s;if(f===void 0&&(!i||(b=L(s,r))!=null&&b.writable)&&(f=o(S(i?s[r]:c,I)),a.set(r,f)),f!==void 0){var d=P(f);return d===c?void 0:d}return Reflect.get(s,r,t)},getOwnPropertyDescriptor(s,r){var t=Reflect.getOwnPropertyDescriptor(s,r);if(t&&"value"in t){var f=a.get(r);f&&(t.value=P(f))}else if(t===void 0){var i=a.get(r),d=i==null?void 0:i.v;if(i!==void 0&&d!==c)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return t},has(s,r){var d;if(r===T)return!0;var t=a.get(r),f=t!==void 0&&t.v!==c||Reflect.has(s,r);if(t!==void 0||C!==null&&(!f||(d=L(s,r))!=null&&d.writable)){t===void 0&&(t=o(f?S(s[r],I):c),a.set(r,t));var i=P(t);if(i===c)return!1}return f},set(s,r,t,f){var h;var i=a.get(r),d=r in s;if(l&&r==="length")for(var b=t;b<i.v;b+=1){var R=a.get(b+"");R!==void 0?y(R,c):b in s&&(R=o(c),a.set(b+"",R))}i===void 0?(!d||(h=L(s,r))!=null&&h.writable)&&(i=o(void 0),y(i,S(t,I)),a.set(r,i)):(d=i.v!==c,y(i,S(t,I)));var g=Reflect.getOwnPropertyDescriptor(s,r);if(g!=null&&g.set&&g.set.call(f,t),!d){if(l&&typeof r=="string"){var E=a.get("length"),N=Number(r);Number.isInteger(N)&&N>=E.v&&y(E,N+1)}K(w)}return!0},ownKeys(s){P(w);var r=Reflect.ownKeys(s).filter(i=>{var d=a.get(i);return d===void 0||d.v!==c});for(var[t,f]of a)f.v!==c&&!(t in s)&&r.push(t);return r},setPrototypeOf(){H()}})}function K(e,n=1){y(e,e.v+n)}function Z(e,n){return e===n||(e==null?void 0:e[T])===n}function ye(e={},n,v,u){return W(()=>{var a,l;return X(()=>{a=l,l=[],x(()=>{e!==v(...l)&&(n(e,...l),a&&Z(v(...a),e)&&n(null,...a))})}),()=>{k(()=>{l&&Z(v(...l),e)&&n(null,...l)})}}),e}function ce(e,n,v){if(e==null)return n(void 0),F;const u=x(()=>e.subscribe(n,v));return u.unsubscribe?()=>u.unsubscribe():u}let D=!1;function Pe(e,n,v){const u=v[n]??(v[n]={store:null,source:j(void 0),unsubscribe:F});if(u.store!==e)if(u.unsubscribe(),u.store=e,e==null)u.source.v=void 0,u.unsubscribe=F;else{var a=!0;u.unsubscribe=ce(e,l=>{a?u.source.v=l:y(u.source,l)}),a=!1}return P(u.source)}function oe(e,n){return e.set(n),n}function we(){const e={};return p(()=>{for(var n in e)e[n].unsubscribe()}),e}function be(e){var n=D;try{return D=!1,[e(),D]}finally{D=n}}function $(e){for(var n=C,v=C;n!==null&&!(n.f&(ie|ae));)n=n.parent;try{return Y(n),e()}finally{Y(v)}}function Ie(e,n,v,u){var U;var a=(v&fe)!==0,l=!se||(v&ue)!==0,w=(v&le)!==0,I=(v&_e)!==0,s=!1,r;w?[r,s]=be(()=>e[n]):r=e[n];var t=T in e||ve in e,f=((U=L(e,n))==null?void 0:U.set)??(t&&w&&n in e?_=>e[n]=_:void 0),i=u,d=!0,b=!1,R=()=>(b=!0,d&&(d=!1,I?i=x(u):i=u),i);r===void 0&&u!==void 0&&(f&&l&&ee(),r=R(),f&&f(r));var g;if(l)g=()=>{var _=e[n];return _===void 0?R():(d=!0,b=!1,_)};else{var E=$(()=>(a?m:de)(()=>e[n]));E.f|=re,g=()=>{var _=P(E);return _!==void 0&&(i=void 0),_===void 0?i:_}}if(!(v&ne))return g;if(f){var N=e.$$legacy;return function(_,O){return arguments.length>0?((!l||!O||N||s)&&f(O?g():_),_):g()}}var h=!1,M=!1,q=j(r),A=$(()=>m(()=>{var _=g(),O=P(q);return h?(h=!1,M=!0,O):(M=!1,q.v=_)}));return a||(A.equals=te),function(_,O){if(arguments.length>0){const B=O?P(A):l&&w?S(_):_;return A.equals(B)||(h=!0,y(q,B),b&&i!==void 0&&(i=B),x(()=>P(A))),_}return P(A)}}export{S as a,ye as b,Pe as c,oe as d,Ie as p,we as s};
