<script>



let y;
let h;

let rect; 

$: console.log(rect)
// $: if (y) {
//     console.log(y, h)
//     for (let i = 0; i < 6; i++) {

//         // if (y == h/2) {
//         //     positions[i] = 0
//         // }


//         positions[i] =  100 + (y*(1+i)/10)

//         if (positions[i] > 0) {
//             positions[i] = 0
//         }
//         // positions[i] = ((y/5)*(i+1) - h) + h/2
//     }

//     console.log(positions)
// }

let positions = [
    {
        y: 0,
        x: 0,
        width_diff: 60 
    }, {
        y: 0,
        x: 5,
        width_diff: 50
    }, {
        y: 0,
        x: 10,
        width_diff: 40
    }, {
        y: 0,
        x: 15,
        width_diff: 30
    }, {
        y: 0,
        x: 20,
        width_diff: 20
    }, {
        y: 0,
        x: 25,
        width_diff: 10
    }
]

let thing;
let width;

function handleScroll() {
    let position = thing.getBoundingClientRect()

    for (let i = 0; i < 6; i++) {
        
        if (position.y < 0) {
            positions[i].y = 0
        } else {
            positions[i].y = -(position.y/4)*(i)

        }
    }
}

function updateMouse(event) {
    let x = event.clientX;
    let y = event.clientY;



    let diff = (width/2) - x

    console.log(x, y, diff/width)

    for (let i = 0; i < 6; i++) {
        positions[i].x = (diff/width)*positions[i].width_diff + (30-positions[i].width_diff/2)
    }
    

    console.log(positions)
}   

</script>

<svelte:body on:mousemove={updateMouse} />
<svelte:window bind:scrollY={y} on:scroll={handleScroll} bind:innerWidth={width}/>

<div class="outer-container">
<div class="container" bind:clientHeight={h} bind:offsetHeight={rect} bind:this={thing}>
    <svg id="wave" style="bottom: {positions[5].y}px; transform: translateX({positions[5].x}vw) !important; transform:rotate(0deg); transition: 0.3s" viewBox="0 0 1440 490" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(243, 106, 62, 1)" offset="0%"></stop><stop stop-color="rgba(255, 179, 11, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 0px); opacity:1" fill="url(#sw-gradient-0)" d="M0,245L26.7,269.5C53.3,294,107,343,160,318.5C213.3,294,267,196,320,138.8C373.3,82,427,65,480,81.7C533.3,98,587,147,640,171.5C693.3,196,747,196,800,196C853.3,196,907,196,960,228.7C1013.3,261,1067,327,1120,334.8C1173.3,343,1227,294,1280,261.3C1333.3,229,1387,212,1440,212.3C1493.3,212,1547,229,1600,269.5C1653.3,310,1707,376,1760,392C1813.3,408,1867,376,1920,310.3C1973.3,245,2027,147,2080,163.3C2133.3,180,2187,310,2240,367.5C2293.3,425,2347,408,2400,392C2453.3,376,2507,359,2560,367.5C2613.3,376,2667,408,2720,400.2C2773.3,392,2827,343,2880,269.5C2933.3,196,2987,98,3040,81.7C3093.3,65,3147,131,3200,147C3253.3,163,3307,131,3360,163.3C3413.3,196,3467,294,3520,302.2C3573.3,310,3627,229,3680,220.5C3733.3,212,3787,278,3813,310.3L3840,343L3840,490L3813.3,490C3786.7,490,3733,490,3680,490C3626.7,490,3573,490,3520,490C3466.7,490,3413,490,3360,490C3306.7,490,3253,490,3200,490C3146.7,490,3093,490,3040,490C2986.7,490,2933,490,2880,490C2826.7,490,2773,490,2720,490C2666.7,490,2613,490,2560,490C2506.7,490,2453,490,2400,490C2346.7,490,2293,490,2240,490C2186.7,490,2133,490,2080,490C2026.7,490,1973,490,1920,490C1866.7,490,1813,490,1760,490C1706.7,490,1653,490,1600,490C1546.7,490,1493,490,1440,490C1386.7,490,1333,490,1280,490C1226.7,490,1173,490,1120,490C1066.7,490,1013,490,960,490C906.7,490,853,490,800,490C746.7,490,693,490,640,490C586.7,490,533,490,480,490C426.7,490,373,490,320,490C266.7,490,213,490,160,490C106.7,490,53,490,27,490L0,490Z"></path></svg>
    <svg id="wave" style="bottom: {positions[4].y}px; transform: translateX({positions[4].x}vw) !important; transform:rotate(0deg); transition: 0.3s" viewBox="0 0 1440 440" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(243, 106, 62, 1)" offset="0%"></stop><stop stop-color="rgba(255, 179, 11, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 0px); opacity:1" fill="url(#sw-gradient-0)" d="M0,88L48,102.7C96,117,192,147,288,161.3C384,176,480,176,576,176C672,176,768,176,864,154C960,132,1056,88,1152,102.7C1248,117,1344,191,1440,234.7C1536,279,1632,293,1728,249.3C1824,205,1920,103,2016,80.7C2112,59,2208,117,2304,124.7C2400,132,2496,88,2592,117.3C2688,147,2784,249,2880,300.7C2976,352,3072,352,3168,315.3C3264,279,3360,205,3456,190.7C3552,176,3648,220,3744,227.3C3840,235,3936,205,4032,198C4128,191,4224,205,4320,212.7C4416,220,4512,220,4608,183.3C4704,147,4800,73,4896,44C4992,15,5088,29,5184,58.7C5280,88,5376,132,5472,168.7C5568,205,5664,235,5760,264C5856,293,5952,323,6048,315.3C6144,308,6240,264,6336,271.3C6432,279,6528,337,6624,344.7C6720,352,6816,308,6864,286L6912,264L6912,440L6864,440C6816,440,6720,440,6624,440C6528,440,6432,440,6336,440C6240,440,6144,440,6048,440C5952,440,5856,440,5760,440C5664,440,5568,440,5472,440C5376,440,5280,440,5184,440C5088,440,4992,440,4896,440C4800,440,4704,440,4608,440C4512,440,4416,440,4320,440C4224,440,4128,440,4032,440C3936,440,3840,440,3744,440C3648,440,3552,440,3456,440C3360,440,3264,440,3168,440C3072,440,2976,440,2880,440C2784,440,2688,440,2592,440C2496,440,2400,440,2304,440C2208,440,2112,440,2016,440C1920,440,1824,440,1728,440C1632,440,1536,440,1440,440C1344,440,1248,440,1152,440C1056,440,960,440,864,440C768,440,672,440,576,440C480,440,384,440,288,440C192,440,96,440,48,440L0,440Z"></path></svg>
    <svg id="wave" style="bottom: {positions[3].y}px; transform: translateX({positions[3].x}vw) !important; transform:rotate(0deg); transition: 0.3s" viewBox="0 0 1440 360" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(243, 106, 62, 1)" offset="0%"></stop><stop stop-color="rgba(255, 179, 11, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 0px); opacity:1" fill="url(#sw-gradient-0)" d="M0,108L24,96C48,84,96,60,144,72C192,84,240,132,288,150C336,168,384,156,432,162C480,168,528,192,576,222C624,252,672,288,720,276C768,264,816,204,864,198C912,192,960,240,1008,270C1056,300,1104,312,1152,282C1200,252,1248,180,1296,174C1344,168,1392,228,1440,264C1488,300,1536,312,1584,318C1632,324,1680,324,1728,270C1776,216,1824,108,1872,108C1920,108,1968,216,2016,264C2064,312,2112,300,2160,270C2208,240,2256,192,2304,144C2352,96,2400,48,2448,48C2496,48,2544,96,2592,120C2640,144,2688,144,2736,150C2784,156,2832,168,2880,162C2928,156,2976,132,3024,132C3072,132,3120,156,3168,138C3216,120,3264,60,3312,30C3360,0,3408,0,3432,0L3456,0L3456,360L3432,360C3408,360,3360,360,3312,360C3264,360,3216,360,3168,360C3120,360,3072,360,3024,360C2976,360,2928,360,2880,360C2832,360,2784,360,2736,360C2688,360,2640,360,2592,360C2544,360,2496,360,2448,360C2400,360,2352,360,2304,360C2256,360,2208,360,2160,360C2112,360,2064,360,2016,360C1968,360,1920,360,1872,360C1824,360,1776,360,1728,360C1680,360,1632,360,1584,360C1536,360,1488,360,1440,360C1392,360,1344,360,1296,360C1248,360,1200,360,1152,360C1104,360,1056,360,1008,360C960,360,912,360,864,360C816,360,768,360,720,360C672,360,624,360,576,360C528,360,480,360,432,360C384,360,336,360,288,360C240,360,192,360,144,360C96,360,48,360,24,360L0,360Z"></path></svg>
    <svg id="wave" style="bottom: {positions[2].y}px; transform: translateX({positions[2].x}vw) !important; transform:rotate(0deg); transition: 0.3s" viewBox="0 0 1440 250" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(243, 106, 62, 1)" offset="0%"></stop><stop stop-color="rgba(255, 179, 11, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 0px); opacity:1" fill="url(#sw-gradient-0)" d="M0,125L15,120.8C30,117,60,108,90,100C120,92,150,83,180,66.7C210,50,240,25,270,33.3C300,42,330,83,360,100C390,117,420,108,450,120.8C480,133,510,167,540,187.5C570,208,600,217,630,216.7C660,217,690,208,720,170.8C750,133,780,67,810,41.7C840,17,870,33,900,62.5C930,92,960,133,990,162.5C1020,192,1050,208,1080,183.3C1110,158,1140,92,1170,75C1200,58,1230,92,1260,104.2C1290,117,1320,108,1350,100C1380,92,1410,83,1440,100C1470,117,1500,158,1530,145.8C1560,133,1590,67,1620,37.5C1650,8,1680,17,1710,20.8C1740,25,1770,25,1800,20.8C1830,17,1860,8,1890,4.2C1920,0,1950,0,1980,8.3C2010,17,2040,33,2070,62.5C2100,92,2130,133,2145,154.2L2160,175L2160,250L2145,250C2130,250,2100,250,2070,250C2040,250,2010,250,1980,250C1950,250,1920,250,1890,250C1860,250,1830,250,1800,250C1770,250,1740,250,1710,250C1680,250,1650,250,1620,250C1590,250,1560,250,1530,250C1500,250,1470,250,1440,250C1410,250,1380,250,1350,250C1320,250,1290,250,1260,250C1230,250,1200,250,1170,250C1140,250,1110,250,1080,250C1050,250,1020,250,990,250C960,250,930,250,900,250C870,250,840,250,810,250C780,250,750,250,720,250C690,250,660,250,630,250C600,250,570,250,540,250C510,250,480,250,450,250C420,250,390,250,360,250C330,250,300,250,270,250C240,250,210,250,180,250C150,250,120,250,90,250C60,250,30,250,15,250L0,250Z"></path></svg>
    <svg id="wave" style="bottom: {positions[1].y}px; transform: translateX({positions[1].x}vw) !important; transform:rotate(0deg); transition: 0.3s" viewBox="0 0 1440 150" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(243, 106, 62, 1)" offset="0%"></stop><stop stop-color="rgba(255, 179, 11, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 0px); opacity:1" fill="url(#sw-gradient-0)" d="M0,75L11.4,62.5C22.9,50,46,25,69,32.5C91.4,40,114,80,137,97.5C160,115,183,110,206,110C228.6,110,251,115,274,105C297.1,95,320,70,343,62.5C365.7,55,389,65,411,77.5C434.3,90,457,105,480,97.5C502.9,90,526,60,549,42.5C571.4,25,594,20,617,35C640,50,663,85,686,100C708.6,115,731,110,754,107.5C777.1,105,800,105,823,95C845.7,85,869,65,891,70C914.3,75,937,105,960,112.5C982.9,120,1006,105,1029,97.5C1051.4,90,1074,90,1097,80C1120,70,1143,50,1166,45C1188.6,40,1211,50,1234,52.5C1257.1,55,1280,50,1303,52.5C1325.7,55,1349,65,1371,65C1394.3,65,1417,55,1440,55C1462.9,55,1486,65,1509,80C1531.4,95,1554,115,1577,117.5C1600,120,1623,105,1634,97.5L1645.7,90L1645.7,150L1634.3,150C1622.9,150,1600,150,1577,150C1554.3,150,1531,150,1509,150C1485.7,150,1463,150,1440,150C1417.1,150,1394,150,1371,150C1348.6,150,1326,150,1303,150C1280,150,1257,150,1234,150C1211.4,150,1189,150,1166,150C1142.9,150,1120,150,1097,150C1074.3,150,1051,150,1029,150C1005.7,150,983,150,960,150C937.1,150,914,150,891,150C868.6,150,846,150,823,150C800,150,777,150,754,150C731.4,150,709,150,686,150C662.9,150,640,150,617,150C594.3,150,571,150,549,150C525.7,150,503,150,480,150C457.1,150,434,150,411,150C388.6,150,366,150,343,150C320,150,297,150,274,150C251.4,150,229,150,206,150C182.9,150,160,150,137,150C114.3,150,91,150,69,150C45.7,150,23,150,11,150L0,150Z"></path></svg>

    <svg id="wave" style="bottom: {positions[0].y}px; transform: translateX({positions[0].x}vw) !important; transform:rotate(0deg); transition: 0.3s" viewBox="0 0 1440 100" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(243, 106, 62, 1)" offset="0%"></stop><stop stop-color="rgba(255, 179, 11, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 0px); opacity:1" fill="url(#sw-gradient-0)" d="M0,60L10,53.3C20,47,40,33,60,28.3C80,23,100,27,120,30C140,33,160,37,180,33.3C200,30,220,20,240,16.7C260,13,280,17,300,30C320,43,340,67,360,78.3C380,90,400,90,420,80C440,70,460,50,480,35C500,20,520,10,540,5C560,0,580,0,600,13.3C620,27,640,53,660,56.7C680,60,700,40,720,35C740,30,760,40,780,40C800,40,820,30,840,35C860,40,880,60,900,66.7C920,73,940,67,960,66.7C980,67,1000,73,1020,70C1040,67,1060,53,1080,40C1100,27,1120,13,1140,18.3C1160,23,1180,47,1200,55C1220,63,1240,57,1260,53.3C1280,50,1300,50,1320,48.3C1340,47,1360,43,1380,36.7C1400,30,1420,20,1430,15L1440,10L1440,100L1430,100C1420,100,1400,100,1380,100C1360,100,1340,100,1320,100C1300,100,1280,100,1260,100C1240,100,1220,100,1200,100C1180,100,1160,100,1140,100C1120,100,1100,100,1080,100C1060,100,1040,100,1020,100C1000,100,980,100,960,100C940,100,920,100,900,100C880,100,860,100,840,100C820,100,800,100,780,100C760,100,740,100,720,100C700,100,680,100,660,100C640,100,620,100,600,100C580,100,560,100,540,100C520,100,500,100,480,100C460,100,440,100,420,100C400,100,380,100,360,100C340,100,320,100,300,100C280,100,260,100,240,100C220,100,200,100,180,100C160,100,140,100,120,100C100,100,80,100,60,100C40,100,20,100,10,100L0,100Z"></path></svg>
    
</div>
</div>

<style>
    svg {
        /* width: 110vw; */
        /* height: 1vh; */
        position: absolute;
        /* bottom: 0; */
        /* height: 100vh; */
        /* width: 150vw !important; */
    }

    svg:nth-child(1) path {
        fill: var(--para_1);
    }
    svg:nth-child(1) {
        width: 110vw;
    }
    svg:nth-child(2) path {
        fill: var(--para_2);  
    }
    svg:nth-child(2) {
        width: 120vw;
    }
    svg:nth-child(3) path {
        fill: var(--para_3);
    }
    svg:nth-child(3) {
        width: 130vw;
    }
    svg:nth-child(4) path {
        fill: var(--para_4)
    }
    svg:nth-child(4) {
        width: 140vw;
    }

    svg:nth-child(5) path {
        fill: var(--para_5);
    }
    svg:nth-child(5) {
        width: 150vw;
    }
    svg:nth-child(6) path {
        fill: var(--para_6);
        height: 50vh;
    }
    svg:nth-child(6) {
        width: 160vw;
    }
    .container {
        position: relative;
        /* bottom: 0 */
        /* height: 100vh; */
        height: 100%;
        width: 160vw;
        background-color: var(--white);
        overflow-y: hidden;
        /* flex:1; */
        transform: translateX(-30vw);
        overflow-x: hidden !important;
    }

    .outer-container {
        overflow-x: hidden;
        width: 100vw;
        height: 100%;
        position: absolute;
        /* top: 0; */
        z-index: 1;
    }
</style>